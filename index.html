<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

    <title>Croma</title>

    <link rel="stylesheet" type="text/css" href="./src/fonts/roboto.css">
    <link rel="stylesheet" type="text/css" href="./dist/css/style.css">

    <link rel="shortcut icon" href="./img/favicon.png" type="image/x-icon">
</head>

<body>

    <script type="text/x-handlebars">
        {{outlet}}
    </script>

    <script type="text/x-handlebars" id="index">
        <header>
            <div class="section-wrapper">
                <span class="header-icon header-menu"></span>
                <h1 class="header-title">
                    Croma
                </h1>
            </div>
        </header>
        <section class="action-wrapper">
            <div class="section-wrapper">
                {{#link-to "new" class="action-button action-button-add"}}
                {{/link-to}}
            </div>
        </section>
        <main class="card-area">
            <div class="cover-image"></div>
            <div class="section-wrapper">
                {{#if model.length}}
                    {{#each model}}
                        {{#with this}}
                            <div {{bind-attr class=":card-item isLoved:card-item-loved" data-palette=name}}>
                                {{#link-to "colors" (query-params palette=name) class="card-item-color-list"}}
                                    {{#each colors}}
                                        <div class="card-item-color-item" {{bind-attr style=this}}></div>
                                    {{/each}}
                                {{/link-to}}
                                <div class="card-item-segment">
                                    <div class="card-item-text">{{name}}</div>
                                    <div class="card-item-actions">
                                        <div {{action "love" name}} class="card-item-action card-item-action-love"></div>
                                        <div {{action "delete" name}} class="card-item-action card-item-action-delete"></div>
                                    </div>
                                </div>
                            </div>
                        {{/with}}
                    {{/each}}
                {{else}}
                    <div class="empty-area">
                        {{#link-to "new" class="empty-area-action"}}
                            Tap to add palettes.
                        {{/link-to}}
                    </div>
                {{/if}}
            </div>
        </main>
    </script>

    <script type="text/x-handlebars" id="new">
        <header>
            <div class="section-wrapper">
                {{#link-to "index" class="header-icon header-back"}}{{/link-to}}
                <h1 class="header-title">
                    New palette
                </h1>
            </div>
        </header>
        <section class="action-wrapper">
            <div class="section-wrapper">
                {{#link-to "new" class="action-button action-button-add"}}
                {{/link-to}}
            </div>
        </section>
        <main class="card-area">
            <div class="cover-image"></div>
            <div class="section-wrapper">
                <div class="card-item">
                    <div class="card-item-button-area">
                        {{#link-to "picker" (query-params palette=name) class="card-item-button card-item-button-ok"}}
                            Get from image
                        {{/link-to}}
                    </div>
                </div>

                <div class="card-item">
                    <div class="card-item-button-area">
                        {{#link-to "picker" (query-params palette=name) class="card-item-button card-item-button-ok"}}
                            Add color
                        {{/link-to}}
                    </div>
                </div>
            </div>
        </main>
    </script>

    <script type="text/x-handlebars" id="colors">
        {{#with model}}
            <header>
                <div class="section-wrapper">
                    {{#link-to "index" class="header-icon header-back"}}{{/link-to}}
                    <h1 class="header-title">
                        Colors
                    </h1>
                </div>
            </header>
            <section class="action-wrapper">
                <div class="section-wrapper">
                    {{#link-to "picker" (query-params palette=name) class="action-button action-button-add"}}
                    {{/link-to}}
                </div>
            </section>
            <main class="card-area">
                <div class="cover-image"></div>
                <div class="section-wrapper">
                    {{#if colors.length}}
                        {{#each colors}}
                                <div {{bind-attr class=":card-item isLoved:card-item-loved" data-palette=palette data-color=color}}>
                                    {{#link-to "details" (query-params color=color)}}
                                        <span class="card-item-color" {{bind-attr style=cssStr}}></span>
                                    {{/link-to}}
                                    <div class="card-item-segment">
                                        <div class="card-item-text">{{color}}</div>
                                        <div class="card-item-actions">
                                            <div {{action "delete" palette color}} class="card-item-action card-item-action-delete"></div>
                                        </div>
                                    </div>
                                </div>
                        {{/each}}
                    {{else}}
                        <div class="empty-area">
                            {{#link-to "picker" (query-params palette=name) class="empty-area-action"}}
                                No colors present. Add some?
                            {{/link-to}}
                        </div>
                    {{/if}}
                </div>
            </main>
        {{/with}}
    </script>

    <script type="text/x-handlebars" data-template-name="details">
        <header>
            <div class="section-wrapper">
                {{#link-to "colors" class="header-icon header-back"}}{{/link-to}}
                <h1 class="header-title">
                    Details
                </h1>
            </div>
        </header>
        <main class="card-area">
            <div class="section-wrapper">
                {{#with model.[0]}}
                    <div class="card-item">
                        <div class="card-item-color" {{bind-attr style=cssStr}}></div>

                        <div class="card-item-info-wrap">
                            {{#each strings}}
                                {{#with this}}
                                    {{#if value}}
                                        <div class="card-item-info">
                                            <span class="card-item-label">{{key}}</span>
                                            <span class="card-item-value">{{value}}</span>
                                        </div>
                                    {{/if}}
                                {{/with}}
                            {{/each}}
                        </div>
                    </div>

                    <div class="card-item">
                        <div class="card-item-button-area">
                            {{#link-to "schemes" (query-params color=hexVal) class="card-item-button card-item-button-ok"}}
                            See color schemes
                            {{/link-to}}
                        </div>
                    </div>
                {{/with}}
            </div>
        </main>
    </script>

    <script type="text/x-handlebars" data-template-name="schemes">
        {{#with model.[0]}}
            <header>
                <div class="section-wrapper">
                    {{#link-to "details" (query-params color=hexVal) class="header-icon header-back"}}{{/link-to}}
                    <h1 class="header-title">
                        Color schemes
                    </h1>
                </div>
            </header>
            <main class="card-area">
                <div class="section-wrapper">
                        {{#each schemes}}
                            <div class="card-item">
                                <div class="card-item-info">
                                    {{#with this}}
                                        <div class="card-item-header">
                                            {{name}}
                                        </div>
                                        <div class="card-item-scheme">
                                            {{#each colors}}
                                                {{#with this}}
                                                    <div class="card-item-scheme-item" {{bind-attr style=cssStr}}>
                                                        {{value}}
                                                    </div>
                                                {{/with}}
                                            {{/each}}
                                        </div>
                                    {{/with}}
                                </div>
                            </div>
                        {{/each}}
                    </div>
                {{/with}}
            </div>
        </main>
    </script>

    <script type="text/x-handlebars" data-template-name="picker">
        <header>
            <div class="section-wrapper">
                {{#link-to "index" class="header-icon header-back"}}{{/link-to}}
                <h1 class="header-title">
                    Pick a color
                </h1>
            </div>
        </header>
        <main class="card-area">
            <div class="section-wrapper">
                {{#view "picker" class="card-item"}}
                    <div class="card-item-canvas picker-canvas">
                        <canvas></canvas>
                    </div>
                    <div class="card-item-segment">
                        <div class="card-item-input-wrap">
                            <input type="text" class="card-item-input picker-input" placeholder="Enter a color" autofocus>
                        </div>
                        <div class="card-item-color-button picker-color-button"></div>
                    </div>
                    <div class="card-item-button-area">
                        <div {{action "add" model.palette}} class="card-item-button card-item-button-ok">Add</div>
                        <div {{action "cancel" model.palette}} class="card-item-button card-item-button-cancel">Cancel</div>
                    </div>
                {{/view}}
            </div>
        </main>
    </script>

    <script src="./dist/js/libs.min.js"></script>
    <script src="./dist/js/scripts.min.js"></script>
</body>
</html>

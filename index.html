<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

    <title>Croma</title>

    <link rel="stylesheet" type="text/css" href="./src/fonts/roboto.css">
    <link rel="stylesheet" type="text/css" href="./dist/css/style.css">

    <link rel="shortcut icon" href="./img/favicon.png" type="image/x-icon">
</head>

<body>

    <script type="text/x-handlebars">
        <header>
            <div class="header-inner">
                {{#link-to "index" class="header-title"}}
                    croma
                {{/link-to}}
                <div class="header-actions">
                    {{#link-to "picker" class="header-action-button header-action-add"}}
                    {{/link-to}}
                </div>
            </div>
        </header>
        <main class="card-area-wrapper">
            <div class="card-area">
                {{outlet}}
            </div>
        </main>
    </script>

    <script type="text/x-handlebars" id="index">
        {{#if model.length}}
            {{#each model}}
                {{#with this}}
                    <div {{bind-attr class=":card-item isLoved:card-item-loved" data-color=color}}>
                        {{#link-to "details" (query-params color=color)}}
                            <span class="card-item-color" {{bind-attr style=cssStr}}></span>
                        {{/link-to}}
                        <div class="card-item-info">
                            <div class="card-item-value">{{color}}</div>
                            <div class="card-item-actions">
                                <div {{action "love" color}} class="card-item-action card-item-action-love"></div>
                                <div {{action "delete" color}} class="card-item-action card-item-action-delete"></div>
                            </div>
                        </div>
                    </div>
                {{/with}}
            {{/each}}
        {{else}}
            <div class="empty-area">
                {{#link-to "picker" class="empty-area-action"}}
                    No colors present. Add some?
                {{/link-to}}
            </div>
        {{/if}}
    </script>

    <script type="text/x-handlebars" data-template-name="details">
        {{#each model}}
            {{#with this}}
                <div class="card-item">
                    <div class="card-item-color" {{bind-attr style=cssStr}}></div>

                    {{#each strings}}
                        {{#with this}}
                            {{#if value}}
                                <div class="card-item-info">
                                    <span class="card-item-label">{{key}}:</span> {{value}}
                                </div>
                            {{/if}}
                        {{/with}}
                    {{/each}}

                    {{#each schemes}}
                        <div class="card-item-info">
                            {{#each this}}
                                {{#with this}}
                                    <div {{bind-attr style=cssStr}}>
                                        {{value}}
                                    </div>
                                {{/with}}
                            {{/each}}
                        </div>
                    {{/each}}
                </div>
            {{/with}}
        {{/each}}
    </script>

    <script type="text/x-handlebars" data-template-name="picker">
        {{#view "picker" class="card-item"}}
            <div class="card-item-canvas">
                <canvas></canvas>
            </div>
            <div class="card-item-info">
                <div class="card-item-text-wrap">
                    <input type="text" class="card-item-text" placeholder="Enter a color">
                </div>
                <div class="card-item-color-button"></div>
            </div>
            <div class="card-item-buttons">
                <div {{action "add"}} class="card-item-button card-item-button-ok">Add</div>
                <div {{action "cancel"}} class="card-item-button card-item-button-cancel">Cancel</div>
            </div>
        {{/view}}
    </script>

    <script src="./dist/js/libs.min.js"></script>
    <script src="./dist/js/scripts.min.js"></script>
</body>
</html>
